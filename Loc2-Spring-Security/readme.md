# Spring Security Overview - ูุธุฑุฉ ุนุงูุฉ ุนูู Spring Security

##  What Spring Securityุ
**Spring Security** ูู ุฅุทุงุฑ ุนูู (Framework) ููู ุจูุณุชุฎุฏู ูุชุฃููู ุชุทุจููุงุช ุงูู Web ุงููุจููุฉ ุจู Javaุ ุฎุงุตุฉ ูุน Spring Framework. ุจูุนุชูุฏ ุนูู ููููููู ุฃุณุงุณููู:
- **Authentication (ุงููุตุงุฏูุฉ)**: ุงูุชุฃูุฏ ููู ุงููุณุชุฎุฏู (ุฒู ุงูุชุญูู ูู ุจุทุงูุฉ ุงููููุฉ ุจุชุงุนุชู).
- **Authorization (ุงูุชูููุถ)**: ุชุญุฏูุฏ ุฅูู ุงููู ููุฏุฑ ูุนููู ุจุนุฏ ูุง ูุฏุฎู (ูุซูุงู ูุดูู ุตูุญุฉ ูุนููุฉ ููุง ูุนุฏู ุจูุงูุงุช).

**In short**: ูู ุฃุฏุงุฉ ุจุชุญูู ุงูุชุทุจูู ูู ุงูุฏุฎูู ุบูุฑ ุงููุตุฑุญ ุจู ูุจุชูุธู ุตูุงุญูุงุช ุงููุณุชุฎุฏููู.

---

## When and Why Use It?

1๏ธโฃ Web Applications: For websites needing login pages (e.g., banking or e-commerce sites).

2๏ธโฃ APIs: To secure REST APIs for mobile apps or external services.

3๏ธโฃ Complex User Management: For systems with multiple user roles (e.g., employees vs. managers).


## Core Components in Depth:

### 1๏ธโฃ Authentication Manager (ูุฏูุฑ ุงููุตุงุฏูุฉ)
  **ุงููุตู**: ูู ุงูุนูู ุงููุฏุจุฑ ูุฑุง ุนูููุฉ ุงูู Authentication. ุจููุณู ุจูู ูู ุงูููููุงุช ุฒู ุงููุฏูุฑ ุงูุนุงู.

  **ุงุฒุงู ุจูุดุชุบูุ**: ุจูุณุชุฎุฏู `ProviderManager` ุฌูุงูุ ูุฏู ุนุจุงุฑุฉ ุนู ูุงููุฉ ูู **Authentication Providers**. ููุง ุชุฏุฎู ุจูุงูุงุชู (Username/Password)ุ ุจููุฑุฑูุง ูููุฒูุฏ ุงูููุงุณุจ.

  **ุงููุชูุฌุฉ**: ูู ุงูุจูุงูุงุช ุตุญุ ุจูุฑุฌุน ูุงุฆู `Authentication` ููู ุงุณูู ูุตูุงุญูุงุชู.

**ูุซุงู**: ููุง ุชุณุฌู ุฏุฎูู ูู ูููุนุ ุงูู Authentication Manager ุจููุฑุฑ ุชุณุชุฎุฏู ูุงุนุฏุฉ ุจูุงูุงุช ููุง OAuth.

---

### 2๏ธโฃ Authentication Provider (ูุฒูุฏ ุงููุตุงุฏูุฉ)
 **ุงูุฏูุฑ**: ูู ุงููู ุจูุนูู ุงูุชุญูู ุงููุนูู ูุจูุงูุงุชู.

 **ุฃููุงุนู**:
  - `DaoAuthenticationProvider`: ุจูุฌูุจ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุช ุนุงุฏูุฉ.
  - `LdapAuthenticationProvider`: ุจูุณุชุฎุฏู ุฎูุงุฏู LDAP (ุดุงุฆุน ูู ุงูุดุฑูุงุช ุงููุจูุฑุฉ).
  - `OAuth2AuthenticationProvider`: ูุชุณุฌูู ุงูุฏุฎูู ุจู Google ุฃู Facebook.
 
  **ุงุฒุงู ุจูุดุชุบูุ**: ุงูู ProviderManager ุจูุฌุฑุจ ูู ูุฒูุฏ ุจุงูุชุฑุชูุจ ูุญุฏ ูุง ููุงูู ุงููู ููุงุณุจ ุจูุงูุงุชู.

**ูุซุงู ุนููู**: ูู ุจุชุณุฌู ุจูููุฉ ุณุฑุ ุงูู DaoAuthenticationProvider ุจูุฏูุฑ ูู ุงูู Database ููุชุฃูุฏ ุฅู ูููุฉ ุงูุณุฑ ุตุญ.

---

### 3๏ธโฃ UserDetailsService (ุฎุฏูุฉ ุชูุงุตูู ุงููุณุชุฎุฏู)
  **ุงููููุฉ**: ูุงุฌูุฉ ุจุชุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู ุฃู ูุตุฏุฑ (Database, File, API).

 **ุงููู ุจูุฑุฌุนู**: ูุงุฆู `UserDetails` ููู:
  - Username (ุงุณู ุงููุณุชุฎุฏู).
  - Password (ูููุฉ ุงูุณุฑ - ูุดูุฑุฉ ุบุงูุจูุง).
  - Authorities (ุงูุตูุงุญูุงุช ุฒู "USER" ุฃู "ADMIN").

 **ููุงุญุธุฉ**: ูุงุฒู ุชุนุฑูู ุจููุณู ูู ุงูููุฏ ุนุดุงู ุชููู ูู Spring ูููู ุชุฌูุจ ุงูุจูุงูุงุช.

**ูุซุงู**: ูู ุนูุฏู ุฌุฏูู "users" ูู ุงูู Databaseุ ุจุชุนูู ููุงุณ ูุทุจู `UserDetailsService` ูุฌูุจ ุงูุจูุงูุงุช ูู ููุงู.

---

### 4๏ธโฃ UserDetails (ุชูุงุตูู ุงููุณุชุฎุฏู)

 **ุงููุตู**: ูุงุฌูุฉ ุจุชุญุฏุฏ ุดูู ุจูุงูุงุช ุงููุณุชุฎุฏู.
 
 **ุงููุญุชูู**: ุงุณููุ ูููุฉ ุงูุณุฑุ ูุงูุตูุงุญูุงุช ุงููู ุนูุฏู.
 
 **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**: ุจุชูุฏุฑ ุชุณุชุฎุฏู ููุงุณ ุฌุงูุฒ ุฒู `User` ูู Spring Security.

**ูุซุงู**: ูุณุชุฎุฏู ุงุณูู "ahmed"ุ ูููุฉ ุณุฑ "1234"ุ ูุตูุงุญูุฉ "USER" ุจูููู ูุงุฆู `UserDetails`.

---
---
<!-- ๐ 1๏ธโฃ 2๏ธโฃ 3๏ธโฃ 4๏ธโฃ 5๏ธโฃ โก โฌโฌโโ๐ด๐๐ต๐ฃ๐ฃ๐ช๐ฆ๐ฉ 
๐ซ๐ฅ๐ 
6๏ธโฃ7๏ธโฃ8๏ธโฃ9๏ธโฃ
โ๐ฏโโโฉโ
-->

## How Authentication Manager Works in Detail:
- **ProviderManager**: ูู ุงูุชูููุฐ ุงูุงูุชุฑุงุถู ููู Authentication Manager.
  - ุจูุญุชูู ุนูู ูุงููุฉ ูู ุงูู `AuthenticationProvider` ูุจูุฌุฑุจ ูู ูุงุญุฏ ุจุงูุชุฑุชูุจ.
  - ูู ุงููุฒูุฏ ุงูุฃูู ูุดู (ูุซูุงู ูููุฉ ุงูุณุฑ ุบูุท)ุ ุจูุฑูุญ ููู ุจุนุฏู.
  - ุจููุฏุฑ ูุชุนุงูู ูุน ุทุฑู ูุฎุชููุฉ ุฒู ุชุณุฌูู ุจูููุฉ ุณุฑ ุฃู OAuth ูู ููุณ ุงูููุช.

- **ุงูุชููุฆุฉ (Configuration)**:
  - ุจุชุณุชุฎุฏู ุนูุตุฑ `<authentication-manager>` ูู ููู XML ุฃู Java Config.
  - ุฌูุงู ุจุชุญุท `<authentication-provider>` ุนุดุงู ุชุญุฏุฏ ุงููุฒูุฏ.

**ูุซุงู XML**:
```xml
<authentication-manager>
    <authentication-provider>
        <user-service-ref bean="myUserDetailsService"/>
    </authentication-provider>
</authentication-manager>

<bean id="myUserDetailsService" class="com.example.MyUserDetailsService"/>
```

---

## ุชูุงุตูู ุนู `<authentication-manager>`
- **Attributes (ุงูุณูุงุช)**:
  - `alias`: ุงุณู ูุณุชุนุงุฑ ููู Authentication Manager ุนุดุงู ุชุณุชุฎุฏูู ูู ุงูููุฏ.
  - `erase-credentials`: ูู `true`ุ ุจููุณุญ ูููุฉ ุงูุณุฑ ุจุนุฏ ุงูุชุญูู ุนุดุงู ุงูุฃูุงู.
  - `id`: ูุนุฑู ูุฑูุฏ ุจุฏู ุงูู alias.
  - `observation-registry-ref`: ุจูุฑุจุท ุจุฃุฏูุงุช ูุฑุงูุจุฉ ุงูุฃุฏุงุก (ุงุฎุชูุงุฑู).

- **Child Elements (ุงูุนูุงุตุฑ ุงููุฑุนูุฉ)**:
  - `<authentication-provider>`: ุจุชุญุฏุฏ ุงููุฒูุฏ (ุงูุชุฑุงุถููุง `DaoAuthenticationProvider`).
  - `<ldap-authentication-provider>`: ูููุตุงุฏูุฉ ุจู LDAP.

---

##    Full Practical Example
1๏ธโฃ ุงููุณุชุฎุฏู ุจูุฏุฎู Username ู Password ูู ุตูุญุฉ Login.

2๏ธโฃ ุงูู `Authentication Manager` ุจ bรบูุงุฎุฏ ุงูุจูุงูุงุช ูููุฑุฑูุง ูู 
`DaoAuthenticationProvider`.

3๏ธโฃ ุงูู `DaoAuthenticationProvider` ุจูุณุชุฎุฏู `UserDetailsService` ุนุดุงู ูุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู ุงูู Database.

4๏ธโฃ ูู ุงูุจูุงูุงุช ุตุญุ ุจูุฑุฌุน `Authentication` Object ููุฏุฎู ุงููุณุชุฎุฏู ุงูุชุทุจูู.

---

## ูุตุงูุญ - Tips
- ูู ุจุชุณุชุฎุฏู ูุงุนุฏุฉ ุจูุงูุงุชุ ุชุฃูุฏ ุฅูู ุจุชุดูุฑ ูููุงุช ุงูุณุฑ ุจุงุณุชุฎุฏุงู **PasswordEncoder**.
- ุฌุฑุจ ุชุถูู ุฃูุชุฑ ูู ูุฒูุฏ (ูุซู Database ู OAuth) ุนุดุงู ุชุฏุนู ุทุฑู ุชุณุฌูู ูุฎุชููุฉ.
- ุงุณุชุฎุฏู Java Config ุจุฏู XML ูู ุจุชุญุจ ุงูููุฏ ูููู ุฃูุถุญ.


